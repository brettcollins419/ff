# -*- coding: utf-8 -*-
"""
Created on Wed Oct 16 12:49:06 2019

@author: u00bec7
"""


#%% PACKAGES

import json
from datetime import datetime
import pandas as pd
import numpy as np
import os
import re
import string
import time
import urllib.request
import requests
from bs4 import BeautifulSoup


#%% FUNCTIONS




#%%

soup = BeautifulSoup('https://www.fantasypros.com/nfl/projections/qb.php')

soup = BeautifulSoup('https://premium.pff.com/nfl/positions/rushing/summary?position=HB&season=2019&week=1')

x = requests.get('https://www.fantasypros.com/nfl/projections/qb.php', verify = False)

type(x)

y = requests.get('https://premium.pff.com/nfl/positions/rushing/summary?position=HB&season=2019&week=1', verify = False)


soup = BeautifulSoup(y.content)


print(soup.prettify())

soupX = BeautifulSoup(x.content)


print(soupX.prettify())
 

z = pd.read_csv('https://premium.pff.com/api/v1/facet/rushing/summary?league=nfl&season=2019&week=1&export=true')

zz = pd.read_csv('data:application/ms-excel;charset=utf-8,%22Player%22%2C%22Team%22%2C%22ATT%22%2C%22CMP%22%2C%22YDS%22%2C%22TDS%22%2C%22INTS%22%2C%22ATT%22%2C%22YDS%22%2C%22TDS%22%2C%22FL%22%2C%22FPTS%22%0D%0A%22%C2%A0%22%2C%22%22%2C%22%22%2C%22%22%0D%0A%22Patrick%20Mahomes%22%2C%22KC%22%2C%2238.0%22%2C%2225.0%22%2C%22363.9%22%2C%222.2%22%2C%220.7%22%2C%223.2%22%2C%2212.0%22%2C%220.1%22%2C%220.2%22%2C%2223.5%22%0D%0A%22Deshaun%20Watson%22%2C%22HOU%22%2C%2232.8%22%2C%2223.6%22%2C%22273.7%22%2C%221.8%22%2C%220.7%22%2C%225.4%22%2C%2230.5%22%2C%220.4%22%2C%220.2%22%2C%2221.3%22%0D%0A%22Kyler%20Murray%22%2C%22ARI%22%2C%2236.9%22%2C%2225.0%22%2C%22292.6%22%2C%221.6%22%2C%220.9%22%2C%226.4%22%2C%2234.1%22%2C%220.2%22%2C%220.3%22%2C%2220.6%22%0D%0A%22Josh%20Allen%22%2C%22BUF%22%2C%2231.7%22%2C%2217.6%22%2C%22241.4%22%2C%221.5%22%2C%221.0%22%2C%227.4%22%2C%2241.3%22%2C%220.5%22%2C%220.3%22%2C%2220.5%22%0D%0A%22Russell%20Wilson%22%2C%22SEA%22%2C%2230.6%22%2C%2220.1%22%2C%22257.3%22%2C%222.1%22%2C%220.6%22%2C%224.8%22%2C%2223.5%22%2C%220.1%22%2C%220.2%22%2C%2220.3%22%0D%0A%22Matt%20Ryan%22%2C%22ATL%22%2C%2240.4%22%2C%2227.5%22%2C%22311.6%22%2C%222.0%22%2C%220.8%22%2C%222.2%22%2C%227.4%22%2C%220.1%22%2C%220.2%22%2C%2220.0%22%0D%0A%22Dak%20Prescott%22%2C%22DAL%22%2C%2233.5%22%2C%2223.3%22%2C%22285.4%22%2C%221.6%22%2C%220.7%22%2C%223.4%22%2C%2216.7%22%2C%220.3%22%2C%220.2%22%2C%2219.8%22%0D%0A%22Lamar%20Jackson%22%2C%22BAL%22%2C%2231.4%22%2C%2220.7%22%2C%22223.8%22%2C%221.4%22%2C%220.8%22%2C%2210.1%22%2C%2253.3%22%2C%220.3%22%2C%220.2%22%2C%2219.7%22%0D%0A%22Jared%20Goff%22%2C%22LAR%22%2C%2239.1%22%2C%2225.8%22%2C%22306.3%22%2C%222.0%22%2C%220.8%22%2C%222.1%22%2C%224.7%22%2C%220.1%22%2C%220.2%22%2C%2219.3%22%0D%0A%22Aaron%20Rodgers%22%2C%22GB%22%2C%2235.3%22%2C%2222.0%22%2C%22257.5%22%2C%221.9%22%2C%220.4%22%2C%223.0%22%2C%2214.8%22%2C%220.1%22%2C%220.2%22%2C%2218.5%22%0D%0A%22Daniel%20Jones%22%2C%22NYG%22%2C%2236.5%22%2C%2223.5%22%2C%22262.1%22%2C%221.6%22%2C%221.1%22%2C%224.3%22%2C%2223.1%22%2C%220.2%22%2C%220.2%22%2C%2217.6%22%0D%0A%22Tom%20Brady%22%2C%22NE%22%2C%2235.9%22%2C%2224.6%22%2C%22267.0%22%2C%221.7%22%2C%220.6%22%2C%221.8%22%2C%222.9%22%2C%220.1%22%2C%220.1%22%2C%2217.2%22%0D%0A%22Carson%20Wentz%22%2C%22PHI%22%2C%2236.8%22%2C%2224.8%22%2C%22256.4%22%2C%221.7%22%2C%220.7%22%2C%222.9%22%2C%2210.7%22%2C%220.1%22%2C%220.2%22%2C%2216.7%22%0D%0A%22Gardner%20Minshew%22%2C%22JAC%22%2C%2232.2%22%2C%2221.6%22%2C%22245.2%22%2C%221.4%22%2C%220.6%22%2C%224.0%22%2C%2217.9%22%2C%220.1%22%2C%220.2%22%2C%2216.0%22%0D%0A%22Jimmy%20Garoppolo%22%2C%22SF%22%2C%2230.7%22%2C%2221.3%22%2C%22246.1%22%2C%221.7%22%2C%220.8%22%2C%222.7%22%2C%225.3%22%2C%220.1%22%2C%220.2%22%2C%2215.9%22%0D%0A%22Jacoby%20Brissett%22%2C%22IND%22%2C%2233.7%22%2C%2219.1%22%2C%22219.0%22%2C%221.5%22%2C%220.6%22%2C%224.0%22%2C%2214.6%22%2C%220.2%22%2C%220.2%22%2C%2215.8%22%0D%0A%22Kirk%20Cousins%22%2C%22MIN%22%2C%2230.6%22%2C%2220.6%22%2C%22241.9%22%2C%221.4%22%2C%220.6%22%2C%222.2%22%2C%226.2%22%2C%220.1%22%2C%220.2%22%2C%2214.9%22%0D%0A%22Matthew%20Stafford%22%2C%22DET%22%2C%2233.8%22%2C%2222.0%22%2C%22239.5%22%2C%221.4%22%2C%220.7%22%2C%222.4%22%2C%228.3%22%2C%220.1%22%2C%220.2%22%2C%2214.6%22%0D%0A%22Philip%20Rivers%22%2C%22LAC%22%2C%2234.9%22%2C%2223.3%22%2C%22259.7%22%2C%221.5%22%2C%220.8%22%2C%221.1%22%2C%222.0%22%2C%220.0%22%2C%220.2%22%2C%2214.4%22%0D%0A%22Mitch%20Trubisky%22%2C%22CHI%22%2C%2231.7%22%2C%2220.2%22%2C%22225.7%22%2C%221.1%22%2C%220.9%22%2C%223.7%22%2C%2218.5%22%2C%220.2%22%2C%220.1%22%2C%2214.3%22%0D%0A%22Andy%20Dalton%22%2C%22CIN%22%2C%2236.7%22%2C%2222.8%22%2C%22237.5%22%2C%221.4%22%2C%221.0%22%2C%222.0%22%2C%226.5%22%2C%220.1%22%2C%220.2%22%2C%2214.1%22%0D%0A%22Joe%20Flacco%22%2C%22DEN%22%2C%2236.9%22%2C%2223.5%22%2C%22247.9%22%2C%221.4%22%2C%220.9%22%2C%221.6%22%2C%223.8%22%2C%220.0%22%2C%220.2%22%2C%2213.8%22%0D%0A%22Derek%20Carr%22%2C%22OAK%22%2C%2232.5%22%2C%2219.6%22%2C%22221.2%22%2C%221.3%22%2C%220.7%22%2C%221.8%22%2C%225.0%22%2C%220.0%22%2C%220.2%22%2C%2213.1%22%0D%0A%22Sam%20Darnold%22%2C%22NYJ%22%2C%2233.5%22%2C%2219.7%22%2C%22224.8%22%2C%221.2%22%2C%221.3%22%2C%222.2%22%2C%227.4%22%2C%220.0%22%2C%220.1%22%2C%2211.8%22%0D%0A%22Teddy%20Bridgewater%22%2C%22NO%22%2C%2231.4%22%2C%2222.6%22%2C%22201.6%22%2C%220.9%22%2C%220.7%22%2C%222.2%22%2C%227.8%22%2C%220.1%22%2C%220.1%22%2C%2211.2%22%0D%0A%22Case%20Keenum%22%2C%22WAS%22%2C%2232.4%22%2C%2220.0%22%2C%22199.9%22%2C%221.1%22%2C%221.0%22%2C%221.2%22%2C%223.9%22%2C%220.0%22%2C%220.2%22%2C%2210.6%22%0D%0A%22Marcus%20Mariota%22%2C%22TEN%22%2C%2220.9%22%2C%2214.6%22%2C%22156.1%22%2C%220.8%22%2C%220.5%22%2C%223.3%22%2C%2218.1%22%2C%220.1%22%2C%220.2%22%2C%2210.5%22%0D%0A%22Ryan%20Tannehill%22%2C%22TEN%22%2C%2218.1%22%2C%2212.0%22%2C%22134.2%22%2C%220.8%22%2C%220.5%22%2C%221.6%22%2C%226.2%22%2C%220.0%22%2C%220.2%22%2C%228.0%22%0D%0A%22Chase%20Daniel%22%2C%22CHI%22%2C%2220.5%22%2C%2211.3%22%2C%22146.4%22%2C%220.7%22%2C%220.5%22%2C%221.3%22%2C%222.5%22%2C%220.0%22%2C%220.1%22%2C%227.8%22%0D%0A%22Josh%20Rosen%22%2C%22MIA%22%2C%2228.0%22%2C%2215.7%22%2C%22155.5%22%2C%220.8%22%2C%221.1%22%2C%221.7%22%2C%228.4%22%2C%220.0%22%2C%220.3%22%2C%227.3%22%0D%0A%22Ryan%20Fitzpatrick%22%2C%22MIA%22%2C%2213.7%22%2C%228.1%22%2C%2293.7%22%2C%220.4%22%2C%220.5%22%2C%221.1%22%2C%224.7%22%2C%220.0%22%2C%220.0%22%2C%224.9%22%0D%0A%22Taysom%20Hill%22%2C%22NO%22%2C%228.2%22%2C%225.1%22%2C%2256.2%22%2C%220.2%22%2C%220.2%22%2C%221.6%22%2C%225.4%22%2C%220.0%22%2C%220.1%22%2C%223.2%22%0D%0A%22Dwayne%20Haskins%22%2C%22WAS%22%2C%2210.1%22%2C%225.7%22%2C%2253.9%22%2C%220.1%22%2C%220.3%22%2C%220.8%22%2C%221.7%22%2C%220.0%22%2C%220.1%22%2C%221.9%22%0D%0A%22Blake%20Bortles%22%2C%22LAR%22%2C%221.6%22%2C%221.0%22%2C%2212.6%22%2C%220.1%22%2C%220.0%22%2C%220.3%22%2C%221.1%22%2C%220.0%22%2C%220.0%22%2C%221.0%22%0D%0A%22Jeff%20Driskel%22%2C%22DET%22%2C%221.4%22%2C%220.9%22%2C%228.8%22%2C%220.1%22%2C%220.0%22%2C%220.4%22%2C%221.9%22%2C%220.0%22%2C%220.0%22%2C%220.9%22%0D%0A%22Brett%20Hundley%22%2C%22ARI%22%2C%221.5%22%2C%220.9%22%2C%2210.9%22%2C%220.1%22%2C%220.0%22%2C%220.2%22%2C%221.0%22%2C%220.0%22%2C%220.0%22%2C%220.9%22%0D%0A%22Matt%20Moore%22%2C%22KC%22%2C%221.5%22%2C%220.9%22%2C%2212.6%22%2C%220.1%22%2C%220.0%22%2C%220.2%22%2C%220.3%22%2C%220.0%22%2C%220.0%22%2C%220.9%22%0D%0A%22Josh%20McCown%22%2C%22PHI%22%2C%221.5%22%2C%221.0%22%2C%2210.1%22%2C%220.1%22%2C%220.0%22%2C%220.3%22%2C%221.0%22%2C%220.0%22%2C%220.0%22%2C%220.9%22%0D%0A%22Tyrod%20Taylor%22%2C%22LAC%22%2C%221.4%22%2C%220.9%22%2C%2210.5%22%2C%220.1%22%2C%220.0%22%2C%220.2%22%2C%220.8%22%2C%220.0%22%2C%220.0%22%2C%220.9%22%0D%0A%22Brian%20Hoyer%22%2C%22IND%22%2C%221.4%22%2C%220.9%22%2C%229.6%22%2C%220.1%22%2C%220.0%22%2C%220.3%22%2C%220.2%22%2C%220.0%22%2C%220.0%22%2C%220.8%22%0D%0A%22Matt%20Schaub%22%2C%22ATL%22%2C%221.5%22%2C%221.1%22%2C%229.2%22%2C%220.1%22%2C%220.0%22%2C%220.1%22%2C%220.2%22%2C%220.0%22%2C%220.0%22%2C%220.8%22%0D%0A%22Tim%20Boyle%22%2C%22GB%22%2C%221.2%22%2C%220.7%22%2C%228.8%22%2C%220.1%22%2C%220.0%22%2C%220.1%22%2C%220.2%22%2C%220.0%22%2C%220.0%22%2C%220.8%22%0D%0A%22Eli%20Manning%22%2C%22NYG%22%2C%221.4%22%2C%220.9%22%2C%229.7%22%2C%220.1%22%2C%220.0%22%2C%220.2%22%2C%221.2%22%2C%220.0%22%2C%220.1%22%2C%220.7%22%0D%0A%22Robert%20Griffin%22%2C%22BAL%22%2C%221.4%22%2C%220.9%22%2C%229.9%22%2C%220.1%22%2C%220.1%22%2C%220.3%22%2C%221.1%22%2C%220.0%22%2C%220.0%22%2C%220.7%22%0D%0A%22Matt%20Barkley%22%2C%22BUF%22%2C%221.4%22%2C%220.9%22%2C%2211.3%22%2C%220.1%22%2C%220.1%22%2C%220.1%22%2C%220.3%22%2C%220.0%22%2C%220.0%22%2C%220.7%22%0D%0A%22Nick%20Mullens%22%2C%22SF%22%2C%221.3%22%2C%220.9%22%2C%2210.7%22%2C%220.1%22%2C%220.1%22%2C%220.3%22%2C%220.3%22%2C%220.0%22%2C%220.0%22%2C%220.7%22%0D%0A%22Mike%20Glennon%22%2C%22OAK%22%2C%221.3%22%2C%220.9%22%2C%2210.1%22%2C%220.1%22%2C%220.0%22%2C%220.2%22%2C%220.5%22%2C%220.0%22%2C%220.1%22%2C%220.7%22%0D%0A%22AJ%20McCarron%22%2C%22HOU%22%2C%221.3%22%2C%221.0%22%2C%2211.0%22%2C%220.0%22%2C%220.0%22%2C%220.1%22%2C%220.1%22%2C%220.0%22%2C%220.0%22%2C%220.5%22%0D%0A%22Joshua%20Dobbs%22%2C%22JAC%22%2C%221.4%22%2C%220.8%22%2C%227.9%22%2C%220.0%22%2C%220.0%22%2C%220.3%22%2C%221.1%22%2C%220.0%22%2C%220.0%22%2C%220.4%22%0D%0A%22Sean%20Mannion%22%2C%22MIN%22%2C%221.3%22%2C%220.8%22%2C%229.4%22%2C%220.0%22%2C%220.0%22%2C%220.3%22%2C%220.3%22%2C%220.0%22%2C%220.0%22%2C%220.4%22%0D%0A%22Jarrett%20Stidham%22%2C%22NE%22%2C%221.3%22%2C%220.8%22%2C%228.5%22%2C%220.0%22%2C%220.0%22%2C%220.1%22%2C%220.2%22%2C%220.0%22%2C%220.0%22%2C%220.4%22%0D%0A%22Cooper%20Rush%22%2C%22DAL%22%2C%221.1%22%2C%220.7%22%2C%227.1%22%2C%220.0%22%2C%220.0%22%2C%220.2%22%2C%220.7%22%2C%220.0%22%2C%220.0%22%2C%220.4%22%0D%0A%22Ryan%20Finley%22%2C%22CIN%22%2C%221.2%22%2C%220.7%22%2C%227.3%22%2C%220.0%22%2C%220.0%22%2C%220.0%22%2C%220.2%22%2C%220.0%22%2C%220.0%22%2C%220.3%22%0D%0A%22David%20Fales%22%2C%22NYJ%22%2C%221.3%22%2C%220.8%22%2C%229.1%22%2C%220.0%22%2C%220.1%22%2C%220.2%22%2C%220.7%22%2C%220.0%22%2C%220.0%22%2C%220.2%22%0D%0A%22Colt%20McCoy%22%2C%22WAS%22%2C%221.2%22%2C%220.7%22%2C%226.9%22%2C%220.0%22%2C%220.1%22%2C%220.2%22%2C%220.7%22%2C%220.0%22%2C%220.0%22%2C%220.1%22%0D%0A%22%22%0D%0A%22%22')

def pull